<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Issue Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .issue-list {
            list-style-type: none;
            padding: 0;
        }
        .issue-item {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .issue-title {
            font-size: 1.2em;
            font-weight: bold;
        }
        .issue-body {
            margin-top: 10px;
            font-size: 1em;
        }
    </style>
</head>
<body>
    <h1>GitHub Issues</h1>
    <ul id="issue-list" class="issue-list">
        <!-- Issues will be loaded here -->
    </ul>

    <script>
        // GitHubのリポジトリ情報を設定
        const owner = 'WiBalliance'; // リポジトリのオーナー名
        const repo = 'chat';   // リポジトリ名

        // GitHub APIのURL
        const apiUrl = `https://api.github.com/repos/${owner}/${repo}/issues`;

        // Issueを表示する関数
        function displayIssues(issues) {
            const issueList = document.getElementById('issue-list');
            issues.forEach(issue => {
                const issueItem = document.createElement('li');
                issueItem.classList.add('issue-item');

                const issueTitle = document.createElement('div');
                issueTitle.classList.add('issue-title');
                issueTitle.innerHTML = `<a href="${issue.html_url}" target="_blank">${issue.title}</a>`;

                const issueBody = document.createElement('div');
                issueBody.classList.add('issue-body');
                issueBody.textContent = issue.body ? issue.body : 'No description provided';

                issueItem.appendChild(issueTitle);
                issueItem.appendChild(issueBody);
                issueList.appendChild(issueItem);
            });
        }

        // GitHub APIからIssuesを取得
        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                if (data.length > 0) {
                    displayIssues(data);
                } else {
                    document.getElementById('issue-list').innerHTML = '<p>No issues found.</p>';
                }
            })
            .catch(error => {
                console.error('Error fetching issues:', error);
                document.getElementById('issue-list').innerHTML = '<p>Failed to load issues.</p>';
            });
    </script>
</body>
</html>
